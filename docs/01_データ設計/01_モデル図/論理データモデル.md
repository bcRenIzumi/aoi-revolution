# 論理データモデル

## エンティティ定義

### マスタエンティティ

#### M_COMPANY（企業）
企業の基本情報を管理するマスタエンティティです。

| 論理名     | 物理名       | データ型 |  PK   |  FK   | NULL許容 | 説明                       |
| ---------- | ------------ | -------- | :---: | :---: | :------: | -------------------------- |
| 企業ID     | company_id   | string   |   ○   |   -   |    ×     | 企業を一意に識別する業務ID |
| 企業名     | company_name | string   |   -   |   -   |    ×     | 企業の正式名称             |
| 有効フラグ | is_active    | boolean  |   -   |   -   |    ×     | true: 有効、false: 無効    |
| 作成日時   | created_at   | datetime |   -   |   -   |    ×     | レID作成日時               |
| 更新日時   | updated_at   | datetime |   -   |   -   |    ×     | レID更新日時               |

#### M_DEPARTMENT（部門）
企業内の部門情報を管理するエンティティです。

| 論理名     | 物理名          | データ型 |  PK   |  FK   | NULL許容 | 説明                       |
| ---------- | --------------- | -------- | :---: | :---: | :------: | -------------------------- |
| 部門ID     | department_id   | string   |   ○   |   -   |    ×     | 部門を一意に識別する業務ID |
| 企業ID     | company_id      | string   |   -   |   ○   |    ×     | 所属企業の業務ID           |
| 部門名     | department_name | string   |   -   |   -   |    ×     | 部門の正式名称             |
| 有効フラグ | is_active       | boolean  |   -   |   -   |    ×     | true: 有効、false: 無効    |
| 作成日時   | created_at      | datetime |   -   |   -   |    ×     | レID作成日時               |
| 更新日時   | updated_at      | datetime |   -   |   -   |    ×     | レID更新日時               |

#### M_LOCATION（拠点）
企業の拠点情報を管理するエンティティです。

| 論理名     | 物理名        | データ型 |  PK   |  FK   | NULL許容 | 説明                       |
| ---------- | ------------- | -------- | :---: | :---: | :------: | -------------------------- |
| 拠点ID     | location_id   | string   |   ○   |   -   |    ×     | 拠点を一意に識別する業務ID |
| 企業ID     | company_id    | string   |   -   |   ○   |    ×     | 所属企業の業務ID           |
| 拠点名     | location_name | string   |   -   |   -   |    ×     | 拠点の正式名称             |
| 住所       | address       | string   |   -   |   -   |    ×     | 拠点の所在地住所           |
| 郵便番号   | postal_code   | string   |   -   |   -   |    ×     | 拠点の郵便番号             |
| 電話番号   | phone_number  | string   |   -   |   -   |    ×     | 拠点の代表電話番号         |
| 有効フラグ | is_active     | boolean  |   -   |   -   |    ×     | true: 有効、false: 無効    |
| 作成日時   | created_at    | datetime |   -   |   -   |    ×     | レID作成日時               |
| 更新日時   | updated_at    | datetime |   -   |   -   |    ×     | レID更新日時               |


### M_DELIVERY_DATE（希望納品日マスタ）
PC申請における標準的な納品日の選択肢を管理するエンティティです。

| 論理名       | 物理名           | データ型 |  PK   |  FK   | NULL許容 | 説明                             |
| ------------ | ---------------- | -------- | :---: | :---: | :------: | -------------------------------- |
| 希望納品日ID | delivery_date_id | string   |   ○   |   -   |    ×     | 希望納品日を一意に識別する業務ID |
| 表示名       | display_name     | string   |   -   |   -   |    ×     | 希望納品日の表示名               |
| 有効フラグ   | is_active        | boolean  |   -   |   -   |    ×     | true: 有効、false: 無効          |
| 作成日時     | created_at       | datetime |   -   |   -   |    ×     | レID作成日時                     |
| 更新日時     | updated_at       | datetime |   -   |   -   |    ×     | レID更新日時                     |

### M_NETWORK_ENV（ネットワーク利用環境マスタ）
利用可能なネットワーク環境の種類や設定を管理するエンティティです。

| 論理名             | 物理名           | データ型 |  PK   |  FK   | NULL許容 | 説明                                   |
| ------------------ | ---------------- | -------- | :---: | :---: | :------: | -------------------------------------- |
| ネットワーク環境ID | network_env_id   | string   |   ○   |   -   |    ×     | ネットワーク環境を一意に識別する業務ID |
| ネットワーク環境名 | network_env_name | string   |   -   |   -   |    ×     | ネットワーク環境の名称                 |
| 有効フラグ         | is_active        | boolean  |   -   |   -   |    ×     | true: 有効、false: 無効                |
| 作成日時           | created_at       | datetime |   -   |   -   |    ×     | レID作成日時                           |
| 更新日時           | updated_at       | datetime |   -   |   -   |    ×     | レID更新日時                           |

### M_INSTALLATION_TYPE（導入区分マスタ）
PCの導入形態や目的を分類するエンティティです。

| 論理名     | 物理名                 | データ型 |  PK   |  FK   | NULL許容 | 説明                           |
| ---------- | ---------------------- | -------- | :---: | :---: | :------: | ------------------------------ |
| 導入区分ID | installation_type_id   | string   |   ○   |   -   |    ×     | 導入区分を一意に識別する業務ID |
| 導入区分名 | installation_type_name | string   |   -   |   -   |    ×     | 導入区分の名称                 |
| 説明       | description            | string   |   -   |   -   |    ○     | 導入区分の補足説明             |
| 有効フラグ | is_active              | boolean  |   -   |   -   |    ×     | true: 有効、false: 無効        |
| 作成日時   | created_at             | datetime |   -   |   -   |    ×     | レID作成日時                   |
| 更新日時   | updated_at             | datetime |   -   |   -   |    ×     | レID更新日時                   |

### M_PC_MODEL（選択機種マスタ）
申請可能なPCモデルの一覧を管理するエンティティです。

| 論理名     | 物理名      | データ型 |  PK   |  FK   | NULL許容 | 説明                           |
| ---------- | ----------- | -------- | :---: | :---: | :------: | ------------------------------ |
| PCモデルID | pc_model_id | string   |   ○   |   -   |    ×     | PCモデルを一意に識別する業務ID |
| モデル名   | model_name  | string   |   -   |   -   |    ×     | PCのモデル名                   |
| 有効フラグ | is_active   | boolean  |   -   |   -   |    ×     | true: 有効、false: 無効        |
| 作成日時   | created_at  | datetime |   -   |   -   |    ×     | レID作成日時                   |
| 更新日時   | updated_at  | datetime |   -   |   -   |    ×     | レID更新日時                   |

#### M_EMPLOYEE（社員）
社員の基本情報を管理するエンティティです。

| 論理名         | 物理名        | データ型 |  PK   |  FK   | NULL許容 | 説明                       |
| -------------- | ------------- | -------- | :---: | :---: | :------: | -------------------------- |
| 社員ID         | employee_id   | string   |   ○   |   -   |    ×     | 社員を一意に識別する業務ID |
| 企業ID         | company_id    | string   |   -   |   ○   |    ×     | 所属企業の業務ID           |
| 部門ID         | department_id | string   |   -   |   ○   |    ×     | 所属部門の業務ID           |
| 社員名         | employee_name | string   |   -   |   -   |    ×     | 社員の氏名                 |
| メールアドレス | email         | string   |   -   |   -   |    ×     | 社員の業務用メールアドレス |
| 有効フラグ     | is_active     | boolean  |   -   |   -   |    ×     | true: 有効、false: 無効    |
| 作成日時       | created_at    | datetime |   -   |   -   |    ×     | レID作成日時               |
| 更新日時       | updated_at    | datetime |   -   |   -   |    ×     | レID更新日時               |

#### M_APP_TYPE（申請種別マスタ）
申請種別を管理するエンティティです。

| 論理名     | 物理名        | データ型 |  PK   |  FK   | NULL許容 | 説明                       |
| ---------- | ------------- | -------- | :---: | :---: | :------: | -------------------------- |
| 種別ID     | app_type_id   | string   |   ○   |   -   |    ×     | 申請を一意に識別する業務ID |
| 申請名     | app_type_name | string   |   -   |   -   |    ×     | 申請の種別名               |
| 有効フラグ | is_active     | boolean  |   -   |   -   |    ×     | true: 有効、false: 無効    |
| 作成日時   | created_at    | datetime |   -   |   -   |    ×     | レID作成日時               |
| 更新日時   | updated_at    | datetime |   -   |   -   |    ×     | レID更新日時               |

### トランザクションエンティティ

#### T_APP_INFO（申請情報）
申請情報を管理するエンティティです。

| 論理名     | 物理名         | データ型 |  PK   |  FK   | NULL許容 | 説明                       |
| ---------- | -------------- | -------- | :---: | :---: | :------: | -------------------------- |
| 申請番号   | app_request_id | string   |   ○   |   -   |    ×     | 申請を一意に識別する業務ID |
| 社員ID     | employee_id    | string   |   -   |   ○   |    ×     | 社員の業務ID               |
| 申請種別ID | app_type_id    | string   |   -   |   ○   |    ×     | 申請の種別ID               |
| 有効フラグ | is_active      | boolean  |   -   |   -   |    ×     | true: 有効、false: 無効    |
| 作成日時   | created_at     | datetime |   -   |   -   |    ×     | レID作成日時               |
| 更新日時   | updated_at     | datetime |   -   |   -   |    ×     | レID更新日時               |

#### T_BASIC_INFO（基本情報）
社員の個人情報を管理するエンティティです。

| 論理名               | 物理名           | データ型 |  PK   |  FK   | NULL許容 | 説明                         |
| -------------------- | ---------------- | -------- | :---: | :---: | :------: | ---------------------------- |
| 申請番号             | app_request_id   | string   |   ○   |   ○   |    ×     | 申請を一意に識別する業務ID   |
| 件名                 | title            | string   |   -   |   -   |    ×     | 申請の件名                   |
| 申請日               | app_date         | date     |   -   |   -   |    ×     | 申請が行われた日付           |
| 申請者所属会社       | company_name     | string   |   -   |   -   |    ×     | 申請者の所属会社名           |
| 申請者所属部門       | department_name  | string   |   -   |   -   |    ×     | 申請者の所属部門名           |
| 申請者所属課         | section_name     | string   |   -   |   -   |    ×     | 申請者の所属課名             |
| 申請者メールアドレス | personal_email   | string   |   -   |   -   |    ×     | 申請者の個人用メールアドレス |
| 申請者社員番号       | employee_number  | string   |   -   |   -   |    ×     | 申請者の社員番号             |
| 申請者内線番号       | extension_number | string   |   -   |   -   |    ×     | 申請者の内線番号             |
| 承認者1              | approver_1       | string   |   -   |   -   |    ×     | 承認者1の社員ID              |
| 承認者2              | approver_2       | string   |   -   |   -   |    ×     | 承認者2の社員ID              |
| 公開フラグ           | is_public        | boolean  |   -   |   -   |    ×     | true: 公開、false: 非公開    |
| 有効フラグ           | is_active        | boolean  |   -   |   -   |    ×     | true: 有効、false: 無効      |
| 作成日時             | created_at       | datetime |   -   |   -   |    ×     | レID作成日時                 |
| 更新日時             | updated_at       | datetime |   -   |   -   |    ×     | レID更新日時                 |

#### T_FILE_INFO（ファイル情報）
システム内のファイル情報を管理するエンティティです。

| 論理名         | 物理名       | データ型 |  PK   |  FK   | NULL許容 | 説明                               |
| -------------- | ------------ | -------- | :---: | :---: | :------: | ---------------------------------- |
| ファイル情報ID | file_info_id | string   |   ○   |   -   |    ×     | ファイル情報を一意に識別する業務ID |
| 管理者社員ID   | employee_id  | string   |   -   |   ○   |    ×     | ファイル管理者の社員ID             |
| ファイルパス   | file_path    | string   |   -   |   -   |    ×     | ファイルの保存パス                 |
| ファイル名     | file_name    | string   |   -   |   -   |    ×     | ファイルの名称                     |
| ファイル種類   | file_type    | string   |   -   |   -   |    ×     | ファイルの種類（拡張子など）       |
| ファイルサイズ | file_size    | integer  |   -   |   -   |    ×     | ファイルのサイズ（バイト）         |
| 説明           | description  | string   |   -   |   -   |    ○     | ファイルの説明                     |
| 有効フラグ     | is_active    | boolean  |   -   |   -   |    ×     | true: 有効、false: 無効            |
| 作成日時       | created_at   | datetime |   -   |   -   |    ×     | レID作成日時                       |
| 更新日時       | updated_at   | datetime |   -   |   -   |    ×     | レID更新日時                       |

#### T_PC_REQUEST（PC申請）
PC関連の申請情報を管理するエンティティです。

| 論理名       | 物理名         | データ型 |  PK   |  FK   | NULL許容 | 説明                       |
| ------------ | -------------- | -------- | :---: | :---: | :------: | -------------------------- |
| 申請ID       | request_id     | string   |   ○   |   -   |    ×     | 申請を一意に識別する業務ID |
| 申請者社員ID | employee_id    | string   |   -   |   ○   |    ×     | 申請を行った社員の業務ID   |
| 承認部門ID   | department_id  | string   |   -   |   ○   |    ×     | 申請を承認する部門の業務ID |
| PCモデル     | pc_model_id    | string   |   -   |   -   |    ×     | 申請するPCのモデル         |
| 申請理由     | request_reason | string   |   -   |   -   |    ×     | 申請の理由                 |
| 申請状態     | status         | string   |   -   |   -   |    ×     | 申請の現在の状態           |
| 申請日       | request_date   | date     |   -   |   -   |    ×     | 申請が行われた日付         |
| 承認日       | approval_date  | date     |   -   |   -   |    ○     | 申請が承認された日付       |
| 承認者社員ID | approver_id    | string   |   -   |   ○   |    ○     | 承認を行った社員の業務ID   |
| 有効フラグ   | is_active      | boolean  |   -   |   -   |    ×     | true: 有効、false: 無効    |
| 作成日時     | created_at     | datetime |   -   |   -   |    ×     | レID作成日時               |
| 更新日時     | updated_at     | datetime |   -   |   -   |    ×     | レID更新日時               |
